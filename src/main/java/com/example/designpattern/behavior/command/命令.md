# 命令模式（Command Pattern）

命令模式（Command Pattern）是一种行为型设计模式，  
它通过将请求封装为一个对象，使得可以用不同的请求对客户端进行参数化，  
支持请求排队或记录请求日志，以及支持可撤销的操作。

**设计模式思想**：

- **核心思想**：将操作封装在命令对象中，使请求的发送者和执行者解耦。命令模式使得请求的队列化、日志记录、撤销与恢复操作成为可能。
- **主要角色**：
    1. **命令接口（Command）**：定义执行操作的接口。
    2. **具体命令（ConcreteCommand）**：实现命令接口，负责调用接收者的相应操作。
    3. **接收者（Receiver）**：执行命令的具体逻辑。
    4. **调用者（Invoker）**：负责调用命令对象执行操作，通常持有命令对象以便稍后执行。
    5. **客户端（Client）**：创建命令并设置其接收者。

### 解释：

- **命令接口（Command）**：定义命令执行的方法，可能包括撤销方法。
- **具体命令（CopyCommand, PasteCommand）**：封装接收者的具体操作，实现命令的执行和撤销。
- **接收者（TextEditor）**：实现实际的操作逻辑。
- **调用者（Invoker）**：执行命令并保存历史命令，支持撤销和重做。
- **客户端（Client）**：创建命令并配置调用者。

### 实际应用：

- **编辑器操作**：实现文本编辑器中的操作，如复制、粘贴、撤销、重做。
- **事务管理**：在数据库操作中，将每个操作封装为命令，支持事务的回滚和重做。
- **宏录制**：录制一系列操作，并支持重放。

### 总结

命令模式通过将操作封装在命令对象中，将请求的发送者和执行者解耦。命令模式支持请求的排队、日志记录以及可撤销和重做的操作，是一种灵活的设计模式。通过命令对象的封装，系统能够动态管理请求的执行和撤销，减少了组件之间的耦合。