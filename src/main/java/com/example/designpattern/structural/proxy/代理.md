# 代理模式（Proxy Pattern）

代理模式是一种结构型设计模式，它为其他对象提供了一种代理以控制对这个对象的访问。代理模式可以在不改变原始对象的情况下，扩展或限制其功能。

## 设计模式思想

- **核心思想**：通过代理对象控制对真实对象的访问，可以在调用前后增加额外的操作，如权限检查、延迟加载等。
- **主要角色**：
    1. **抽象主题（Subject）**：定义了真实主题和代理类的共同接口。
    2. **真实主题（RealSubject）**：实现了抽象主题接口，定义了代理所代表的真实对象。
    3. **代理（Proxy）**：实现了抽象主题接口，控制对真实主题的访问，并可以在调用方法前后执行附加操作。

## 代理模式的应用场景

1. **远程代理**：为一个位于不同地址空间的对象提供局部代表。
2. **虚代理**：根据需要创建开销很大的对象。
3. **保护代理**：控制对原始对象的访问，用于对象的权限管理。
4. **智能引用代理**：在访问对象时添加一些内务处理，如引用计数、日志记录等。

### 解释

- **接口 `Service`**：定义了操作接口。
- **真实主题 `RealService`**：实现了 `Service` 接口的实际业务逻辑。
- **代理类 `PermissionProxy`**：在方法调用前进行权限检查，以控制对 `RealService` 的访问。

## 实际应用

- **权限管理**：在不改变真实业务逻辑的情况下，实现访问控制。
- **日志记录**：记录对某一功能或服务的访问。
- **事务管理**：在方法调用前后进行事务的开启和提交/回滚。

## 小结

代理模式通过控制对目标对象的访问，可以在不改变原始对象的情况下增强或限制其功能。
代理模式在实际应用中非常广泛，涵盖了从远程调用到延迟加载的各种场景。
通过这种方式，代理模式提升了系统的灵活性和可扩展性。

```

